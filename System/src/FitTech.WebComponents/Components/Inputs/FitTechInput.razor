@using System.Diagnostics.CodeAnalysis
@inherits InputBase<string?>
<div class="flex flex-col grow">
    @if (!string.IsNullOrWhiteSpace(Label))
    {
        <h1 class="text-xs mb-1 font-semibold">@Label</h1>
    }
    
    <input type="@Type.ToString().ToLowerInvariant()" @bind="CurrentValue" id="@Id" placeholder="@Placeholder" class="@CssClass @DefaultCssClass"
           @oninput="OnInput"/>
</div>

@code {
    private const string DefaultCssClass = "border border-fittech-green rounded px-2 py-1 text-xs";
    [Parameter] public string? Placeholder { get; set; }
    [Parameter] public string? Id { get; set; }
    [Parameter] public EventCallback<ChangeEventArgs> OnInput { get; set; }
    [Parameter] public string? Label { get; set; }
    [Parameter] public TextInputType Type { get; set; } = TextInputType.Text;

    protected override bool TryParseValueFromString(string? value, out string? result, [NotNullWhen(false)] out string? validationErrorMessage)
    {
        result = value;
        validationErrorMessage = null;
        return true;
    }

    public enum TextInputType
    {
        Text,
        Password
    }

}