@page "/ComponenteCatalog"
@using Blazor.Heroicons
@using FitTech.WebComponents.Components.Buttons
@using FitTech.WebComponents.Components.Cards
@using FitTech.WebComponents.Components.Modals
@using FitTech.WebComponents.Components.SideMenu
@using FitTech.WebComponents.Components.Tables
@using FitTech.WebComponents.Styles.Enums


<div class="pt-20 p-8 bg-white space-y-12">

    <!-- ðŸŸ¢ SECCIÃ“N BOTONES -->aww
    <section>
        <h2 class="text-2xl font-bold text-fittech-dark mb-6 border-b border-fittech-green pb-2">
            Botones
        </h2>

        <div class="lex flex-wrap gap-6 justify-center">
            <FitTechButton Color="Color.Primary" Size="Size.Small" Label="Button" Icon="@HeroiconName.Check"/>
            <FitTechButton Color="Color.Secondary" Size="Size.Medium" Label="Login"/>
            <FitTechButton Color="Color.Error" Size="Size.Large" Label="Button" Icon="Check"/>
            <FitTechButton Color="Color.Primary" Shape="Shape.Circle" Icon="Check"/>
            <FitTechButton Color="Color.Secondary" Shape="Shape.Circle" Icon="Check"/>
            <FitTechButton Color="Color.Primary" Shape="Shape.Square" Icon="Check"/>
        </div>
    </section>

    <!-- ðŸ§¾ SECCIÃ“N TABLAS -->
    <section>
        <h2 class="text-2xl font-bold text-fittech-dark mb-6 border-b border-fittech-green pb-2">
            Tablas
        </h2>

        <div class="bg-fittech-white border-2 border-fittech-green rounded-2xl shadow-md p-6">
            <FitTechTable TItem="User"
                          Items="FilteredItems"
                          Title="@titulo"
                          ShowSearch="true"
                          Headers="headers"
                          RowSelector="GetUserRow"/>
        </div>
    </section>

    <!-- ðŸƒ SECCIÃ“N CARDS -->
    <section>
        <h2 class="text-2xl font-bold text-fittech-dark mb-6 border-b border-fittech-green pb-2">
            Cards
        </h2>

        <FittechCard>
            <FitTechCardHeader/>
            <FitTechCardBody/>
            <FitTechCardFooter/>
        </FittechCard>

    </section>

    <!-- ðŸ“‹ SECCIÃ“N MENÃš LATERAL (ahora parte del escaparate) -->
    <section>
        <h2 class="text-2xl font-bold text-fittech-dark mb-6 border-b border-fittech-green pb-2">
            Modals
        </h2>

        @page "/modal-test"

        <button class="bg-fittech-green text-fittech-dark px-4 py-2 rounded-xl" @onclick="() => _modal.Open()">
            Abrir modal
        </button>

        <FitTechModal @ref="_modal">
            <FitTechModalHeader>
                Test Modal
            </FitTechModalHeader>
            <FitTechModalBody>
                This is just an example
            </FitTechModalBody>
            <FitTechModalFooter>
                <FitTechButton Color="Color.Primary" Label="Button" Icon="Check"/>
            </FitTechModalFooter>
        </FitTechModal>
    </section>
</div>

@code {
    private FitTechModal _modal = null!;

    readonly List<User> users = new()
    {
        new User { Name = "Yeray", Age = 30, Email = "yeray@example.com" },
        new User { Name = "Jairo", Age = 25, Email = "jairo@example.com" },
        new User { Name = "Alberto", Age = 25, Email = "alberto@example.com" }
    };

    List<User> FilteredItems = new();

    public string titulo = "Usuarios";

    readonly List<string> headers = new() { "Nombre", "Edad", "Email" };

    List<string> GetUserRow(User user) =>
        new() { user.Name!, user.Age.ToString(), user.Email! };

    protected override void OnInitialized() =>
        FilteredItems = users.ToList();

    public class User
    {
        public string? Name { get; set; }
        public int Age { get; set; }
        public string? Email { get; set; }
    }

}